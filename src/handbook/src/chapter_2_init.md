# Работа с системой инициализации

> **Обратите внимание!**
>
> Версии Calmira 2021.x, 1.x и тестовые версии 2.0 используют систему
> инициализации SysVInit. Стабильные версии Calmira v2.0 GNU/Linux-libre перешли
> на использование OpenRC.
>
> > Далее в этом руководстве пойдут сведения об OpenRC.

## О системе инициализации

После того, как запустилось ядро Linux(-libre), запускается система
инициализации. Это программа, запускающая процессы и демоны, необходимые для
работы ОС GNU/Linux(-libre).

Существует много разных СИ. Ранее была очень популярна SysVInit, которая и по
сей день считается классической СИ в GNU/Linux. Она была очень проста (если не
сказать - примитивна). В начале 2010-х были совершены попытки заменить её на
что-либо более удобное и "красивое" с точки зрения дизайна. В рамках Ubuntu
GNU/Linux был разработан `upstart` (который более не применяется в этом
дистрибутиве), а проектом Gentoo GNU/Linux была представлена система OpenRC. Но
настоящую популярность завоевала СИ `systemd` от компании Red Hat.

У systemd было много недостатков, список, на нащ взгляд самых противных, выложен
в "Приложении" к этому руководству. Отдельно стоит отметить то, что эта система
инициализации монолитна (а значит, не следует UNIX Way и не совместима с
философией Calmira GNU/Linux-libre), а также, из-за особенностей строения нашей
системы, systemd там работает некорректно.

Исходя из всего этого (SysVInit устарел, systemd не подходит), мы выбрали
систему инициализации OpenRC как неплохой вариант.

## Использование

- **Список состояний запущенных служб:**

```
% rc-status
```

- **Проверка отказавших служб:**

```
% rc-status --crashed
```

- **Отображение всех доступных служб:**

```
% rc-update -v show
```

- **Изменить состояние службы:**

```
# rc-service daemon start/restart/stop/status
```

- **Включить/выключить службу:**

```
# rc-update add/del service
```
